(this["webpackJsonpreact-learn"]=this["webpackJsonpreact-learn"]||[]).push([[0],{178:function(e,t,a){e.exports=a(370)},183:function(e,t,a){},184:function(e,t,a){},370:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(49),c=a.n(o),l=(a(183),a(134)),s=a(135),i=a(146),p=a(136),u=a(147),d=a(77),m=a.n(d),f=(a(184),a(24)),h=function(e){var t=e.text,a=e.selectedKey;return r.a.createElement("div",{className:"menu-item ".concat(a?"active":"")},t)},v=function(e){var t=e.text,a=e.selectedLabel;return r.a.createElement("div",{className:"menu-item ".concat(a?"active":"")},t)},E=function(e,t){return e.map((function(e){var a=e.prefName,n=e.prefCode;return r.a.createElement(h,{text:a,key:n,selected:t})}))},b=function(e,t){return e.map((function(e){var a=e.label;return r.a.createElement(v,{text:a,key:a,selected:t})}))},y=function(e){var t=e.text,a=e.className;return r.a.createElement("div",{className:a},t)},g=y({text:"<",className:"arrow-prev"}),w=y({text:">",className:"arrow-next"}),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(p.a)(t).call(this,e))).onSelect=function(e,t){fetch("https://opendata.resas-portal.go.jp/api/v1/population/composition/perYear?prefCode="+e,{method:"GET",headers:{"Content-Type":"application/json","X-API-KEY":"0TcDvnFjHBuHwOTpnMkYeE4c4KZVTTObEOedJxsg"}}).then((function(e){return e.json()})).then((function(n){a.setState({prefPop:n.result.data,selectedLabel:n.result.data[0].label,selectedKey:e,selectedName:t,CData:a.getPerLabelData(n.result.data[0].label,n.result.data)})}))},a.getPerLabelData=function(e,t){return t.filter((function(t){return t.label===e})).map((function(e){return e.data}))},a.onSelectM2=function(e){a.setState({CData:a.getPerLabelData(e,a.state.prefPop),selectedLabel:e})},a.state={selectedName:"\u5317\u6d77\u9053",selectedKey:1,prefList:[{prefCode:1,prefName:"\u5317\u6d77\u9053"}],selectedLabel:"",prefPop:[],CData:[]},a.menuItems1=E(a.state.prefList,a.state.selectedKey),a.menuItems2=b(a.state.prefPop,a.state.selectedLabel),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://opendata.resas-portal.go.jp/api/v1/prefectures",{method:"GET",headers:{"Content-Type":"application/json","X-API-KEY":"0TcDvnFjHBuHwOTpnMkYeE4c4KZVTTObEOedJxsg"}}).then((function(e){return e.json()})).then((function(t){e.setState({prefList:t.result})}))}},{key:"render",value:function(){var e=this.state,t=e.selectedKey,a=e.selectedLabel,n=E(this.state.prefList,t),o=b(this.state.prefPop,a),c=this.state.CData;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"myheader"},"Population Composition Trends of Different Prefectures"),r.a.createElement(m.a,{data:n,arrowLeft:g,arrowRight:w,selected:t,onSelect:this.onSelect}),r.a.createElement(m.a,{data:o,arrowLeft:g,arrowRight:w,selected:a,onSelect:this.onSelectM2}),r.a.createElement("div",{align:"center"},r.a.createElement(f.b,{height:400,width:1e3,data:c[0],margin:{top:30,right:30,left:30,bottom:30}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0}))),r.a.createElement(f.e,{dataKey:"year",label:{value:"Year",position:"bottom"}}),r.a.createElement(f.f,null),r.a.createElement(f.c,{strokeDasharray:"3 3"}),r.a.createElement(f.d,null),r.a.createElement(f.a,{type:"monotone",dataKey:"value",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[178,1,2]]]);
//# sourceMappingURL=main.8cc6c302.chunk.js.map